<div class="row text-center text-lg-left">
    <div th:each="product : ${products}" class="col-lg-3 col-md-4 col-xs-6">
        <a class="d-block mb-4 h-100">
            <div class="overlay">
                <img class="img-fluid img-thumbnail" th:src="@{${product.image}}" alt="" th:text="${product.name}" data-toggle="modal" th:data-target="'#descriptionModal'+ ${product.id}">
            </div>
            <div th:insert="all-fragments/product/fragment-up-vote.html"></div>
        </a>
        <!-- Modal -->
        <div class="modal fade" th:id="'descriptionModal' + ${product.id}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle" th:text="'Product: ' + ${product.name}"></h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <table class="table table-bordered">
                            <thead>
                            <tr>
                                <th>User</th>
                                <th>Date Submitted</th>
                                <th>Up Votes</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td th:text="${product.user.username}"></td>
                                <td th:text="${product.dateSubmitted}"></td>
                                <td th:text="${product.upVotes}"></td>
                            </tr>
                            </tbody>
                        </table>
                        <h4>Description</h4>
                        <div class="well well-sm" th:text="${product.description}"></div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

